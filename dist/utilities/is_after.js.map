{"version":3,"sources":["../../src/utilities/is_after.ts"],"sourcesContent":["import dayjs from \"dayjs\";\nimport InvalidTimeOffset from \"../types/error/invalid_time_offset\";\n\nexport type TimeOffset = string;\nexport const timeOffsetPattern = /^\\d\\d:\\d\\d:\\d\\d$/;\n\n/**\n * Is it the TimeOffset pattern.\n *\n * @example ```ts\n * isTimeOffset(\"00:10:00\") // true\n * isTimeOffset(\"0:0:0\") // false\n * isTimeOffset(\"1:13:15\") // false\n * isTimeOffset(\"01:13:15\") // true\n * ```\n */\nexport function isTimeOffset(time: string): time is TimeOffset {\n  return !!timeOffsetPattern.exec(time);\n}\n\n/**\n * Get the Dayjs date object of (startTimestamp + TimePlus)\n *\n * @param startTimestamp The start time.\n * @param offset The offset to added.\n */\nexport function getAddedTime(\n  startTimestamp: Date,\n  offset: string\n): dayjs.Dayjs {\n  if (isTimeOffset(offset)) {\n    const [hh, mm, ss] = offset.split(\":\").map(Number);\n    if (hh !== undefined && mm !== undefined && ss !== undefined) {\n      return dayjs(startTimestamp)\n        .add(hh, \"hour\")\n        .add(mm, \"minute\")\n        .add(ss, \"second\");\n    }\n  }\n\n  throw new InvalidTimeOffset(offset);\n}\n\n/**\n * Is the specified time in the future?\n *\n * Formula: `(startTimestamp + timePlus) > Date.now()`\n *\n * @see getAddedTime\n */\nexport function isAfter(startTimestamp: Date, timePlus: string): boolean {\n  return getAddedTime(startTimestamp, timePlus).isAfter(Date.now());\n}\n\n/**\n * Is the specified time in the past?\n *\n * Formula: `(startTimestamp + timePlus) < Date.now()`\n *\n * @see getAddedTime\n */\nexport function isBefore(startTimestamp: Date, timePlus: string): boolean {\n  return getAddedTime(startTimestamp, timePlus).isBefore(Date.now());\n}\n"],"names":[],"mappings":"yKAAO,CAAK,MAAM,KAAO,SAClB,CAAiB,MAAM,kCAAoC,mhBAG3D,GAAK,CAAC,iBAAiB,oCAYd,YAAY,CAAC,CAAY,CAAsB,CAAC,AAC9D,MAAM,EAAG,iBAAiB,CAAC,IAAI,CAAC,CAAI,CACtC,CAAC,gBAQe,YAAY,CAC1B,CAAoB,CACpB,CAAc,CACD,CAAC,AACd,EAAE,CAAE,YAAY,CAAC,CAAM,EAAG,CAAC,AACzB,GAAK,CAAgB,CAA6B,gBAA7B,CAAM,CAAC,KAAK,EAAC,CAAG,GAAE,GAAG,CAAC,MAAM,KAA1C,CAAE,CAAY,CAA6B,IAAvC,CAAE,CAAQ,CAA6B,IAAnC,CAAE,CAAI,CAA6B,IAClD,EAAE,CAAS,IAAI,CAAJ,CAAS,GAAhB,CAAE,EAAyB,IAAI,CAAJ,CAAS,GAAhB,CAAE,EAAyB,IAAI,CAAJ,CAAS,GAAhB,CAAE,CAC5C,MAAM,CAAC,CAAK,CAAC,CAAc,EACxB,GAAG,CAAC,CAAE,EAAE,IAAM,GACd,GAAG,CAAC,CAAE,EAAE,MAAQ,GAChB,GAAG,CAAC,CAAE,EAAE,MAAQ,EAEvB,CAAC,AAED,KAAK,CAAC,GAAG,CAAC,CAAiB,CAAC,CAAM,CACpC,CAAC,gBASe,OAAO,CAAC,CAAoB,CAAE,CAAgB,CAAW,CAAC,AACxE,MAAM,CAAC,YAAY,CAAC,CAAc,CAAE,CAAQ,EAAE,OAAO,CAAC,IAAI,CAAC,GAAG,GAChE,CAAC,gBASe,QAAQ,CAAC,CAAoB,CAAE,CAAgB,CAAW,CAAC,AACzE,MAAM,CAAC,YAAY,CAAC,CAAc,CAAE,CAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,GACjE,CAAC"}